<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ci on Learn, Converse, Share</title><link>http://jmeridth.com/tags/ci/</link><description>Recent content in Ci on Learn, Converse, Share</description><generator>Hugo</generator><language>en</language><lastBuildDate>Fri, 17 Jul 2009 05:01:00 -0500</lastBuildDate><atom:link href="http://jmeridth.com/tags/ci/index.xml" rel="self" type="application/rss+xml"/><item><title>Git Post-receive hook with integrity post call</title><link>http://jmeridth.com/posts/git-post-receive-hook-with-integrity-post-call/</link><pubDate>Fri, 17 Jul 2009 05:01:00 -0500</pubDate><guid>http://jmeridth.com/posts/git-post-receive-hook-with-integrity-post-call/</guid><description>&lt;p&gt;Using the following code:&lt;/p&gt;
&lt;p&gt;This git post-receive hook script queries the latest commit, gets the revision changes, and then passes that payload (via json) to a net/https POST call. I setup our &lt;a href="http://www.integrityapp.com/" class="external-link" target="_blank" rel="noopener"&gt;Integrity CI server&lt;/a&gt; with a self-signed certificate and HTTP basic authentication.&lt;/p&gt;
&lt;p&gt;The Net::HTTP::Post.new instantiation group handles populating the basic authentication information and putting the payload into the form data of the request. The Net::HTTP.new group handles telling the request that it will be via SSL (443) and to not verify the SSL certificate (since I&amp;rsquo;m using a self-signed certificate; otherwise, I&amp;rsquo;d get a warning and kill my automation process)&lt;/p&gt;</description></item><item><title>Adding a git post-receive hook to fire off Hudson CI server</title><link>http://jmeridth.com/posts/adding-a-git-post-receive-hook-to-fire-off-hudson-ci-server/</link><pubDate>Tue, 24 Mar 2009 18:07:00 -0500</pubDate><guid>http://jmeridth.com/posts/adding-a-git-post-receive-hook-to-fire-off-hudson-ci-server/</guid><description>&lt;p&gt;UPDATE: guard clause throws LocalJumpError. Changed to simple if block Context: I needed our hudson CI builds to auto-fire when a developer pushes their code changes to our canonical/upstream git repositories. In your .git/hooks/post-receive file place the file code (FULL CODE):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-ruby" data-lang="ruby"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="ch"&gt;#!/usr/bin/env ruby&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="no"&gt;STDIN&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;rev_old&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rev_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34; &amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;ref&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;refs/heads/master&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;http://yourhudsondomain.com/job/job_name_here/build?delay=0sec&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;puts&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Run Hudson build for job_name_here application&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sb"&gt;`wget &lt;/span&gt;&lt;span class="si"&gt;#{&lt;/span&gt;&lt;span class="n"&gt;url&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; &amp;gt; /dev/null 2&amp;gt;&amp;amp;1`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;EXPLAINING EACH LINE: I avoid writing bash scripts in default bash if I can. This is for a Ruby on Rails app, so I decided to write it in Ruby.&lt;/p&gt;</description></item><item><title>Firefox Hudson Build Monitor add-on</title><link>http://jmeridth.com/posts/firefox-hudson-build-monitor-add-on/</link><pubDate>Thu, 05 Mar 2009 02:19:00 -0600</pubDate><guid>http://jmeridth.com/posts/firefox-hudson-build-monitor-add-on/</guid><description>&lt;p&gt;MOZILLA: READ THIS!&lt;/p&gt;
&lt;p&gt;To Mozilla,
You should upgrad ethe Hudson Build Monitor Plugin so that users don&amp;rsquo;t have to create add-on accounts just to download. Cliffano&amp;rsquo;s customer support and product are top of the line.&lt;/p&gt;
&lt;p&gt;Explanation:
I have started using Hudson as my Continous Integraton server at work and still setting it up for custom interaction with Git. I have used CruiseControl.NET and TeamCity extensively in the past and both have tray tools. Well, I found &lt;a href="http://hudsontracker.sourceforge.net/index.html" class="external-link" target="_blank" rel="noopener"&gt;HudsonTracker&lt;/a&gt;, but it wouldn&amp;rsquo;t work for me because I&amp;rsquo;m using Basic HTTP Auth with my Hudson instance.&lt;/p&gt;</description></item><item><title>Hudson and Nginx</title><link>http://jmeridth.com/posts/hudson-and-nginx/</link><pubDate>Thu, 12 Feb 2009 04:46:00 -0600</pubDate><guid>http://jmeridth.com/posts/hudson-and-nginx/</guid><description>&lt;p&gt;UPDATE: I left HTTP Auth in place via Nginx and removed security from my Hudson instance. This works for me because I don&amp;rsquo;t need the Hudson security. Every developer should be able to manage the CI server. I&amp;rsquo;m just trying to prevent external access to the dashboard.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been having fun trying to figure out how to block a user&amp;rsquo;s ability of going to &lt;a href="http://mydomain:8080" class="external-link" target="_blank" rel="noopener"&gt;http://mydomain:8080&lt;/a&gt; and bypassing my 80 to 443 redirect and htpasswd HTTP basic authentication. I even went as far as removing Nginx and installing Apache. According to the Hudson site, we can use &lt;a href="http://hudson.gotdns.com/wiki/display/HUDSON/Apache&amp;#43;frontend&amp;#43;for&amp;#43;security" class="external-link" target="_blank" rel="noopener"&gt;Apache to do this&lt;/a&gt;. Either I&amp;rsquo;m not smart enough or web pages like this reminded me why I hate the Java Enterprise stack as much as I do. Talk about installation obfuscation. My problem exists because the Tomcat instance running the hudson war file uses &lt;a href="http://tomcat.apache.org/tomcat-5.5-doc/config/ajp.html#Standard%20Implementation" class="external-link" target="_blank" rel="noopener"&gt;Apache JServe Protocol&lt;/a&gt; (AJP) and will allow direct access on whatever port you used (default 8080). This is even if you proxy_pass to 8080 from 443 (SSL) or 80 (Web). Through testing and research it seems that &lt;a href="http://www.ruby-forum.com/topic/157269#693042" class="external-link" target="_blank" rel="noopener"&gt;Nginx does not have a solution for this&lt;/a&gt;. I can&amp;rsquo;t allow access to my Hudson instance from external users. I have a self-signed certificate and a .htpasswd file to protect the instance, but is all useless is someone could just type in &lt;a href="http://mydomain.com:8080" class="external-link" target="_blank" rel="noopener"&gt;http://mydomain.com:8080&lt;/a&gt;. I want that redirected to &lt;a href="https://mydomain.com" class="external-link" target="_blank" rel="noopener"&gt;https://mydomain.com&lt;/a&gt; which will then proxy internally to &lt;a href="http://127.0.0.1:8080" class="external-link" target="_blank" rel="noopener"&gt;http://127.0.0.1:8080&lt;/a&gt;. I didn&amp;rsquo;t want to fight this, so I just used iptables (linux firewall) to block external requests on port 8080 but allow internal requests to 8080. Here is the entry in my iptables file:&lt;/p&gt;</description></item><item><title>Personal CI history and Hudson CI as service on Ubuntu/Debian</title><link>http://jmeridth.com/posts/continuous-integration-for-a-ruby-project-or-net-java-etc/</link><pubDate>Fri, 16 Jan 2009 04:08:00 -0600</pubDate><guid>http://jmeridth.com/posts/continuous-integration-for-a-ruby-project-or-net-java-etc/</guid><description>&lt;p&gt;&lt;em&gt;UPDATE: CruiseControl.rb does have Git support from&lt;a href="//github.com/benburkert/cruisecontrolrb.git" class="external-link" target="_blank" rel="noopener"&gt;git://github.com/benburkert/cruisecontrolrb.git.&lt;/a&gt; Thank you Jeremy for the heads&amp;rsquo; up (comment below)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;CI == &lt;a href="http://martinfowler.com/articles/continuousIntegration.html" class="external-link" target="_blank" rel="noopener"&gt;Continous Integration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I personally enjoy watching a team hear the Mortal Kombat voice yell &amp;ldquo;Fatality&amp;rdquo; when a build fails and see them all go to the web dashboard, be it CruiseControl.NET or TeamCity, and watch one of them say out loud what the problem was and claim the task of fixing it or checking with the developer who did the last check-in and give them a chance to fix it.  Sorry, I&amp;rsquo;m reminiscing about my development team at Wachovia (formerly World Savings).&lt;/p&gt;</description></item><item><title>Update - TeamCity</title><link>http://jmeridth.com/posts/update-teamcity/</link><pubDate>Mon, 18 Feb 2008 16:09:56 -0600</pubDate><guid>http://jmeridth.com/posts/update-teamcity/</guid><description>&lt;p&gt;As you saw from my &lt;a href="http://www.lostechies.com/blogs/jason_meridth/archive/2008/01/24/jetbrains-teamcity.aspx" class="external-link" target="_blank" rel="noopener"&gt;last TeamCity post&lt;/a&gt;, I was a little frustrated about the fact that I had to create an environment variable to use the NAnt runner.  A colleague, &lt;a href="http://geekswithblogs.net/dsellers/Default.aspx" class="external-link" target="_blank" rel="noopener"&gt;Dru Sellers&lt;/a&gt;, contacted me and mentioned the Command Line Build Runner.  He understood that I don&amp;rsquo;t like my build process to be dependent on anything on the server, so I should be able to deploy my source to any server (minus the website being setup in IIS - automating that process is a post for another day).&lt;/p&gt;</description></item><item><title>JetBrains TeamCity</title><link>http://jmeridth.com/posts/jetbrains-teamcity/</link><pubDate>Thu, 24 Jan 2008 20:14:36 -0600</pubDate><guid>http://jmeridth.com/posts/jetbrains-teamcity/</guid><description>&lt;p&gt;Being sick today has allowed me to catch up on my ASP.NET MVC knowledge and also move the remainder of my CC.NET projects to &lt;a href="http://www.jetbrains.com/teamcity/" class="external-link" target="_blank" rel="noopener"&gt;JetBrains TeamCity&lt;/a&gt;.  Being sick is no fun though. &lt;em&gt;Cough Cough&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;After reading Sean&amp;rsquo;s &lt;a href="http://www.lostechies.com/blogs/sean_chambers/archive/2008/01/06/evaluating-teamcity-as-a-cc-net-replacement.aspx" class="external-link" target="_blank" rel="noopener"&gt;post&lt;/a&gt; on &lt;a href="http://www.jetbrains.com/teamcity/" class="external-link" target="_blank" rel="noopener"&gt;TeamCity&lt;/a&gt;, my eyes have been opened.  Don&amp;rsquo;t get me wrong, I have attachments to CC.NET because it&amp;rsquo;s free and it works.  Setup is a pain sometimes, but not too bad.  On the flip, &lt;a href="http://www.jetbrains.com/teamcity/" class="external-link" target="_blank" rel="noopener"&gt;TeamCity&lt;/a&gt; has been amazing.  I migrated all of my CC.NET projects (8) to TeamCity in under 1 hour (of course, I&amp;rsquo;m using NAnt with my custom build files, so it was strictly web interface setup, but it worked.)&lt;/p&gt;</description></item><item><title>People vs. tools</title><link>http://jmeridth.com/posts/people-vs-tools/</link><pubDate>Mon, 26 Nov 2007 00:38:00 -0600</pubDate><guid>http://jmeridth.com/posts/people-vs-tools/</guid><description>&lt;p&gt;I&amp;rsquo;m not a very theoretical guy.  I don&amp;rsquo;t like to discuss things to no solution.  When presented with a new idea, I like to see the code, tool, or mechanism that helps put that theory/idea into action.  I&amp;rsquo;m fine tuning (still working very hard at) my people skills.  I know that in order for software to succeed it&amp;rsquo;s the communication that matters.  I can usually make people think about what they want and they usually know they need to be prepared when they approach me, because I don&amp;rsquo;t like to waste time.  I like the occasional &amp;ldquo;check my email&amp;rdquo; or &amp;ldquo;watch that YouTube video&amp;rdquo;; so don&amp;rsquo;t get me wrong.&lt;/p&gt;</description></item><item><title>CruiseControl and Web Application MSBuild Targets</title><link>http://jmeridth.com/posts/cruisecontrol-and-web-application-msbuild-targets/</link><pubDate>Wed, 24 Oct 2007 14:59:01 -0500</pubDate><guid>http://jmeridth.com/posts/cruisecontrol-and-web-application-msbuild-targets/</guid><description>&lt;p&gt;I was one of the developers that installed the &lt;a href="http://msdn2.microsoft.com/en-us/asp.net/Aa336618.aspx" class="external-link" target="_blank" rel="noopener"&gt;Web Application Projects MSI&lt;/a&gt; before Visual Studio Service Pack 1 was available.  After the service pack came out, I didn&amp;rsquo;t uninstall the MSI and just installed the SP.  We all know and heard the horror stories on how long it took to install SP 1.&lt;/p&gt;
&lt;p&gt;Well, today I was finally getting my CI server going for my personal MonoRail project and came across this error:&lt;/p&gt;</description></item><item><title>Installing 2 CruiseControl services/web dashboards on 1 server/PC</title><link>http://jmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/</link><pubDate>Tue, 02 Oct 2007 21:45:03 -0500</pubDate><guid>http://jmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/</guid><description>&lt;p&gt;Why? I am currently hosting CruiseControl for an open-source project and I don&amp;rsquo;t want my personal projects to show up on their web dashboard.  I also want a complete separation.  That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you.  I won&amp;rsquo;t go into this much, but you will learn a little bit about what it does because I&amp;rsquo;m installing my instance manually.&lt;/p&gt;</description></item></channel></rss>