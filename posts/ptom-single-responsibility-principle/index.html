<!doctype html><html lang=en><head><meta charset=UTF-8><title>PTOM - Single Responsibility Principle | JM (Jason Meridth)</title>
<meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo 0.124.1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="jason meridth,meridth,jm,software developer"><meta name=description content="The Single Responsibility Principle This post is about the first letter in Uncle Bob’s SOLID acronym, Single Responsibility Principle, and a continuation …"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script><script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4W46VMK7DQ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4W46VMK7DQ")</script><meta property="og:title" content="PTOM - Single Responsibility Principle"><meta property="og:description" content="The Single Responsibility Principle This post is about the first letter in Uncle Bob&rsquo;s SOLID acronym, Single Responsibility Principle, and a continuation of The Los Techies Pablo’s Topic of the Month - March: SOLID Principles. Sean has already posted on this, but I&rsquo;d like to &ldquo;contribute&rdquo;. Note about the SOLID acronym and this blog &ldquo;storm&rdquo;: This &ldquo;principle&rdquo; is more or less common sense, as are most of the other items in the SOLID acronym."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.jasonmeridth.com/posts/ptom-single-responsibility-principle/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2008-03-30T00:21:00-05:00"><meta property="article:modified_time" content="2022-05-20T11:25:54-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="PTOM - Single Responsibility Principle"><meta name=twitter:description content="The Single Responsibility Principle This post is about the first letter in Uncle Bob&rsquo;s SOLID acronym, Single Responsibility Principle, and a continuation of The Los Techies Pablo’s Topic of the Month - March: SOLID Principles. Sean has already posted on this, but I&rsquo;d like to &ldquo;contribute&rdquo;. Note about the SOLID acronym and this blog &ldquo;storm&rdquo;: This &ldquo;principle&rdquo; is more or less common sense, as are most of the other items in the SOLID acronym."><meta itemprop=name content="PTOM - Single Responsibility Principle"><meta itemprop=description content="The Single Responsibility Principle This post is about the first letter in Uncle Bob&rsquo;s SOLID acronym, Single Responsibility Principle, and a continuation of The Los Techies Pablo’s Topic of the Month - March: SOLID Principles. Sean has already posted on this, but I&rsquo;d like to &ldquo;contribute&rdquo;. Note about the SOLID acronym and this blog &ldquo;storm&rdquo;: This &ldquo;principle&rdquo; is more or less common sense, as are most of the other items in the SOLID acronym."><meta itemprop=datePublished content="2008-03-30T00:21:00-05:00"><meta itemprop=dateModified content="2022-05-20T11:25:54-05:00"><meta itemprop=wordCount content="568"><meta itemprop=keywords content></head><body><header><div id=avatar><a href=http://blog.jasonmeridth.com/><img src=/img/jmavatar.jpeg alt="JM (Jason Meridth)"></a></div><div id=titletext><h2 id=title><a href=http://blog.jasonmeridth.com/>JM (Jason Meridth)</a></h2></div><div id=title-description><p id=subtitle>Learn, Converse, Share</p><div id=social><nav><ul><li><a href=https://github.com/jmeridth><i title=Github class="icons fab fa-github"></i></a></li><li><a href=mailto:jmeridth@gmail.com><i title=Email class="icons fas fa-envelope"></i></a></li><li><a href=https://linkedin.com/in/jmeridth><i title=LinkedIn class="icons fab fa-linkedin"></i></a></li><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li><li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>All Posts</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li><li><a href=/categories>Categories</a></li></ul></nav></div></header><main><div class=post><article><div class=post-header><div class=meta><div class=date><span class=day>30</span>
<span class=rest>Mar 2008</span></div></div><div class=matter><h1 class=title>PTOM - Single Responsibility Principle</h1><p class=post-meta><span class=post-meta>&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;| &nbsp;
<i class="fas fa-book"></i>&nbsp;568&nbsp;words</span></p></div></div><div class=markdown><h3 id=the-single-responsibility-principle>The Single Responsibility Principle</h3><p>This post is about the first letter in Uncle Bob&rsquo;s SOLID acronym, <a href=http://www.objectmentor.com/resources/articles/srp.pdf target=_blank>Single Responsibility Principle</a>, and a continuation of <a href=blogs/chad_myers/archive/2008/03/07/pablo-s-topic-of-the-month-march-solid-principles.aspx>The Los Techies Pablo’s Topic of the Month - March: SOLID Principles</a>. Sean has already <a href=http://www.lostechies.com/blogs/sean_chambers/archive/2008/03/15/ptom-single-responsibility-principle.aspx target=_blank>posted</a> on this, but I&rsquo;d like to &ldquo;contribute&rdquo;. <em><strong>Note about the SOLID acronym and this blog &ldquo;storm&rdquo;</strong>: This &ldquo;principle&rdquo; is more or less common sense, as are most of the other items in the SOLID acronym. I like the idea of this series because I personally have interviewed with companies who would ask about possible code scenarios and I respond with one of these principles or one of the GOF patterns and they look back at me with a blank stare. I know these are just labels, but if they can reduce the miscommunication possibilities and start standardizing our industry, I&rsquo;m all for it. I know some of the new ideas and labels out there are still being hammered out (i.e., like the BDD discussions as of late), but that is part of the process and what has to happen in such a young industry like ours.</em></p><blockquote><p>Single-Responsibility Principle (SRP): A class should have only one reason to change.</p></blockquote><p>A good anti-example is the <a href=http://en.wikipedia.org/wiki/Active_record_pattern target=_blank>Active Record pattern</a>. This pattern is in contradiction of SRP. A domain entity handles persistence of it&rsquo;s information. (Note: There is nothing wrong with using Active Record; I&rsquo;ve recently used it on a quick demo site and it worked perfectly) Normally, you would have a controller method/action pass a &ldquo;hydrated&rdquo; entity to a method of a repository instance. Like my favorite quote says:</p><blockquote><p>Talk is cheap, show me the code ~ Linus Torvalds</p></blockquote><p>let&rsquo;s look at some .NET code.</p><h4 id=anti-srp-active-record><strong>Anti-SRP (Active Record)</strong></h4><p>Imagine you have a User entity that has a username and password property. I&rsquo;m using the Castle Active Record libraries for this example. <script src="https://gist.github.com/jmeridth/4542522.js?file=ptom_single_responsibility_example1.cs"></script></p><h4 id=as-you-can-see-you-use-attributes-to-dictate-how-your-properties-map-to-columns-in-your-database-table-your-entity-name-usually-matches-your-table-name-when-using-just-the-activerecord-attribute-with-no-explicit-table-name-ie-activerecordusertablename>As you can see you use attributes to dictate how your properties map to columns in your database table. Your entity name usually matches your table name, when using just the ActiveRecord attribute with no explicit table name (i.e., [ActiveRecord(&ldquo;UserTableName&rdquo;)]</h4><p>To save the user you would take an instantiated user and just call user.Save(); This would cause an update to fire if the user instance had identity (aka an Id) and insert if it did not.</p><h4 id=translation-to-srp><strong>Translation to SRP</strong></h4><p>What I would normally do is have an architecture like the following:<figure><img src=jasonmeridth/files/WindowsLiveWriter/PTOMSingleResponsibilityPrinciple_13E55/image_4.png alt=image></figure>The UserRepository would be used by a web controller (I use monorail for my web projects), being passed a User instance, and Save(user) would be called. <script src="https://gist.github.com/jmeridth/4542559.js?file=ptom_single_responsibility_example2.cs"></script>So, what it boils down to is that the user class now knows nothing on how it is persisted to the database. SRP is one of the hardest principles to enforce because there is always room for refactoring out one class to multiple; each class has one responsibility. It is personal preference because class explosion does cause some people to become code zealots. One of my other favorite quotes lately is:</p><blockquote><p>Always code as if the guy maintaining your code would be a violent psychopath and he knows where you live.</p></blockquote><p>Enjoy!</p><h2 id=comments>Comments</h2><p><strong><a href=#224 title="2008-11-18 12:48:53">Martin Odhelius</a>:</strong> The last pattern you are using actually looks like the Data Acess Object-pattern <a href=http://en.wikipedia.org/wiki/Data_Access_Object target=_blank>DAO</a> and is in fact much better than the Active Record-pattern in most situations, especially when you want to handle several different data sources or when you want to migrate data between different db:s for example.</p></div></div></article></div></main><footer>© Copyright notice | <a href=https://github.com/dataCobra/hugo-vitae target=_blank>Vitae</a> theme for <a href=https://gohugo.io target=_blank>Hugo</a></footer><script src=/js/dark-mode.js></script></body></html>