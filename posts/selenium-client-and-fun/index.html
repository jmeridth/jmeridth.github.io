<!doctype html><html lang=en><head><title>Selenium-client and fun · Learn, Converse, Share</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Jason Meridth"><meta name=description content="So I&rsquo;ve had the pleasure of working with selenium-client, the official Ruby client API for Selenium Remote Control (bare bone client driver). Assumptions: 1. You have Ruby 1.8+ installed 2. You have rubygems installed I&rsquo;m going to use the Slicehost Manage website to drive with my selenium tests. No babble, just instructions.
1.
sudo gem install selenium-client

2. download the selenium remote control (version 1.0 beta at the time of this entry). Remember where you install this because you will be reference the selenium-server.jar inside it."><meta name=keywords content="jason meridth,meridth,jm,software developer"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="Selenium-client and fun"><meta name=twitter:description content="So I’ve had the pleasure of working with selenium-client, the official Ruby client API for Selenium Remote Control (bare bone client driver). Assumptions: 1. You have Ruby 1.8+ installed 2. You have rubygems installed I’m going to use the Slicehost Manage website to drive with my selenium tests. No babble, just instructions.
1.
sudo gem install selenium-client 2. download the selenium remote control (version 1.0 beta at the time of this entry). Remember where you install this because you will be reference the selenium-server.jar inside it."><meta property="og:url" content="http://jmeridth.com/posts/selenium-client-and-fun/"><meta property="og:site_name" content="Learn, Converse, Share"><meta property="og:title" content="Selenium-client and fun"><meta property="og:description" content="So I’ve had the pleasure of working with selenium-client, the official Ruby client API for Selenium Remote Control (bare bone client driver). Assumptions: 1. You have Ruby 1.8+ installed 2. You have rubygems installed I’m going to use the Slicehost Manage website to drive with my selenium tests. No babble, just instructions.
1.
sudo gem install selenium-client 2. download the selenium remote control (version 1.0 beta at the time of this entry). Remember where you install this because you will be reference the selenium-server.jar inside it."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2009-02-12T04:35:00-06:00"><meta property="article:modified_time" content="2009-02-12T04:35:00-06:00"><link rel=canonical href=http://jmeridth.com/posts/selenium-client-and-fun/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.26a83dcefaf34339737bf29f77b17753bab5e60782b1ca9ba200abbb73b48cb0.css integrity="sha256-Jqg9zvrzQzlze/Kfd7F3U7q15geCscqbogCru3O0jLA=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/css_dark_mode_gist_embed_code.min.5f4f026828cc544c1497785bca628b4ddc8a6c1f154cc2b83c87a13ceaff419a.css integrity="sha256-X08CaCjMVEwUl3hbymKLTdyKbB8VTMK4PIehPOr/QZo=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/favicon.ico sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-dark"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://jmeridth.com/>Learn, Converse, Share
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/talks/>Talks</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact Me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://jmeridth.com/posts/selenium-client-and-fun/>Selenium-client and fun</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2009-02-12T04:35:00-06:00>February 12, 2009
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
3-minute read</span></div></div></header><div class=post-content><p>So I&rsquo;ve had the pleasure of working with <a href=http://github.com/ph7/selenium-client/tree/master class=external-link target=_blank rel=noopener>selenium-client</a>, the official Ruby client API for Selenium Remote Control (bare bone client driver). Assumptions: 1. You have Ruby 1.8+ installed 2. You have rubygems installed I&rsquo;m going to use the Slicehost Manage website to drive with my selenium tests. No babble, just instructions.</p><p>1.</p><pre><code>sudo gem install selenium-client
</code></pre><p>2. download the <a href=http://release.seleniumhq.org/selenium-remote-control/1.0-beta-2/selenium-remote-control-1.0-beta-2-dist.zip class=external-link target=_blank rel=noopener>selenium remote control</a> (version 1.0 beta at the time of this entry). Remember where you install this because you will be reference the selenium-server.jar inside it.</p><p>3. update your .bashrc (usually on Ubuntu) or .bash_profile (what I have on my Mac) with a alias to start the selenium server (for me I have unzipped the download into a ~/code/seleniumrc folder:</p><pre><code># commands
alias selsrvr=&quot;java -jar ~/code/seleniumrc/selenium-server-1.0-beta-2/selenium-server.jar&quot;
</code></pre><p>after you add that, re-source your bash file. For me on my Mac</p><pre><code>. ~/.bash_profile
</code></pre><p>For me on my Ubuntu box:</p><pre><code>. ~/.bashrc
</code></pre><p>4. Create a test file, test.rb somewhere (for me ~/code/seleniumrc/test.rb):</p><p>5. Write a test that:</p><ol><li><p>Logs in</p></li><li><p>Creates a slice</p></li><li><p>Captures the new root password</p></li><li><p>Captures the new IP Address</p></li><li><p>SSHs onto the new slice</p></li><li><p>Adds a file, and lists out the content of ~ (aka /home/root)</p></li><li><p>Deletes the slice</p></li><li><p>Logs out</p></li><li></li></ol><pre><code>require &quot;test/unit&quot;
require &quot;rubygems&quot;
gem &quot;selenium-client&quot;, &quot;&gt;=1.2.9&quot;
require &quot;selenium/client&quot;
require &quot;net/ssh&quot;

class NewTest &lt; Test::Unit::TestCase
  attr_reader :browser

  def setup
    @slice_name = &quot;slice3&quot;
    @browser = Selenium::Client::Driver.new &quot;localhost&quot;, 4444, &quot;*firefox&quot;, &quot;https://manage.slicehost.com/&quot;, 10000
    browser.start_new_browser_session
  end

  def teardown
    browser.close_current_browser_session
  end

  def test_should_be_able_to_ssh_onto_new_slice_and_add_new_file
    login
    begin
        create_slice(@slice_name)
        root_password = @browser.get_text(&quot;id=flash&quot;).sub(/You will receive an email upon completion. The new root password will be: /, '')
        ip_address = @browser
          .get_text(&quot;xpath=/html/body/div[@id='container']/div[@id='main']/div[1]/div[@id='slice_action']/div[@id='show_slice']/table/tbody/tr[4]/td[2]&quot;)
          .scan(/d{0,3}.d{0,3}.d{0,3}.d{0,3}/)
        assert !180.times{ break if (@browser.is_text_present(&quot;active&quot;) rescue false); sleep 1 }
        Net::SSH.start(ip_address[0].to_s, 'root', :password =&gt; root_password) do |ssh|
            ssh.exec(&quot;rm selenium_test_file.txt&quot;)
            ssh.exec(&quot;touch selenium_test_file.txt&quot;)

            stdout = &quot;&quot;
            ssh.exec!(&quot;ls -lah ~&quot;) do |channel, stream, data|
              stdout &lt;&lt; data if stream == :stdout
            end
            puts stdout
        end
        go_to_slice(@slice_name)
    ensure
        assert !180.times{ break if (@browser.is_text_present(&quot;active&quot;) rescue false); sleep 1 }
        delete_slice(@slice_name)
    end
    logout
  end

  def test_should_be_able_to_delete_an_existing_slice
    login
    go_to_slice(@slice_name)
    delete_slice(@slice_name)
    logout
  end


  def login
    @browser.open &quot;/login&quot;
    assert_equal &quot;Slicehost Login&quot;, browser.title
    @browser.type &quot;email&quot;, &quot;youemail@domain.com&quot;
    @browser.type &quot;password&quot;, &quot;yourpassword&quot;
    @browser.click &quot;commit&quot;
    browser_wait
  end

  def create_slice(slice_name)
    @browser.click &quot;link=Add a Slice&quot;
    browser_wait
    @browser.type &quot;name&quot;, slice_name
    @browser.click &quot;commit&quot;
    browser_wait
  end

  def go_to_slice(slice_name)
    @browser.click &quot;link=My Slices&quot;
    browser_wait
    @browser.click &quot;link=#{slice_name}&quot;
    browser_wait
  end

  def delete_slice(slice_name)
    @browser.click &quot;link=Delete&quot;
    @browser.click &quot;link=Delete #{slice_name}&quot;
    assert /^Permanently delete this Slice and all of its data[sS] There is no turning back!$/ =~ @browser.get_confirmation
  end

  def logout
    @browser.click &quot;link=Logout&quot;
    browser_wait
  end

  def browser_wait
    @browser.wait_for_page_to_load &quot;30000&quot;
  end
end
</code></pre><p>7. Start the selenium server:</p><pre><code>selsrvr
</code></pre><p>8. run the test:</p><pre><code>ruby ~/code/seleniumrc/test.rb
</code></pre><p>You should see the firefox browser open up in two windows and see the automation in process. Once the slice is created, I&rsquo;ve setup a timer at 180 seconds (3 min) to wait for the slice to be created and set to a status of active. Like #5 above states, once complete the test captures the root password and ip address off the web UI and uses them to SSH into the new slice. This is my 3rd time using selenium and I like what I see. More to come.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2007 -
2025
Jason Meridth
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4W46VMK7DQ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4W46VMK7DQ")</script></body></html>