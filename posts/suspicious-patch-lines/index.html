<!doctype html><html lang=en><head><meta charset=utf-8><title>Suspicious Patch Lines | JM (Jason Meridth)</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.96.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="git"><meta name=description content="DISCLAIMER: This is only relevant if you or someone contributing to your project are doing cross-platform development. If you are typically just developing …"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script>
<script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><script>localStorage.setItem("theme","dark")</script><meta property="og:title" content="Suspicious Patch Lines"><meta property="og:description" content="DISCLAIMER: This is only relevant if you or someone contributing to your project are doing cross-platform development. If you are typically just developing on Windows, you should be able to keep the config options set to false.
The Problem While trying to commit changes to a file I have under source control with Git on a Windows box using cygwin, I received the following error:
jmeridth@web1 /cygdrive/d/site $ git commit -am &#34;changed the README to show authors&#34; * * You have some suspicious patch lines: * * In README * trailing whitespace (line 26) README:26: This type of error has been discussed quite a bit amongst ."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.jasonmeridth.com/posts/suspicious-patch-lines/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-02-27T19:21:00-06:00"><meta property="article:modified_time" content="2010-02-27T19:21:00-06:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Suspicious Patch Lines"><meta name=twitter:description content="DISCLAIMER: This is only relevant if you or someone contributing to your project are doing cross-platform development. If you are typically just developing on Windows, you should be able to keep the config options set to false.
The Problem While trying to commit changes to a file I have under source control with Git on a Windows box using cygwin, I received the following error:
jmeridth@web1 /cygdrive/d/site $ git commit -am &#34;changed the README to show authors&#34; * * You have some suspicious patch lines: * * In README * trailing whitespace (line 26) README:26: This type of error has been discussed quite a bit amongst ."><meta itemprop=name content="Suspicious Patch Lines"><meta itemprop=description content="DISCLAIMER: This is only relevant if you or someone contributing to your project are doing cross-platform development. If you are typically just developing on Windows, you should be able to keep the config options set to false.
The Problem While trying to commit changes to a file I have under source control with Git on a Windows box using cygwin, I received the following error:
jmeridth@web1 /cygdrive/d/site $ git commit -am &#34;changed the README to show authors&#34; * * You have some suspicious patch lines: * * In README * trailing whitespace (line 26) README:26: This type of error has been discussed quite a bit amongst ."><meta itemprop=datePublished content="2010-02-27T19:21:00-06:00"><meta itemprop=dateModified content="2010-02-27T19:21:00-06:00"><meta itemprop=wordCount content="391"><meta itemprop=keywords content="git,"></head><body><header><div id=avatar><a href=http://blog.jasonmeridth.com/><img src=/img/avatar.jpg alt="JM (Jason Meridth)"></a></div><div id=titletext><h2 id=title><a href=http://blog.jasonmeridth.com/>JM (Jason Meridth)</a></h2></div><div id=title-description><p id=subtitle>Learn, Converse, Share</p><div id=social><nav><ul><li><a href=https://github.com/jmeridth><i title=Github class="icons fab fa-github"></i></a></li><li><a href=mailto:jmeridth@gmail.com><i title=Email class="icons fas fa-envelope"></i></a></li><li><a href=https://linkedin.com/in/jmeridth><i title=LinkedIn class="icons fab fa-linkedin"></i></a></li><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li><li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>All Posts</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li><li><a href=/categories>Categories</a></li></ul></nav></div></header><main><div class=post><article><div class=post-header><div class=meta><div class=date><span class=day>27</span>
<span class=rest>Feb 2010</span></div></div><div class=matter><h1 class=title>Suspicious Patch Lines</h1><p class=post-meta><span class=post-meta>&nbsp;<i class="fas fa-clock"></i>&nbsp;2&nbsp;minutes
&nbsp;| &nbsp;
<i class="fas fa-book"></i>&nbsp;391&nbsp;words</span></p></div></div><div class=markdown><p>DISCLAIMER: This is <em>only</em> relevant if you or someone contributing to your project are doing cross-platform development. If you are typically just developing on Windows, you should be able to keep the config options set to false.</p><h2 id=the-problem>The Problem</h2><p>While trying to commit changes to a file I have under source control with Git on a Windows box using cygwin, I received the following error:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>jmeridth@web1 /cygdrive/d/site
</span></span><span style=display:flex><span>$ git commit -am <span style=color:#e6db74>&#34;changed the README to show authors&#34;</span>
</span></span><span style=display:flex><span>*
</span></span><span style=display:flex><span>* You have some suspicious patch lines:
</span></span><span style=display:flex><span>*
</span></span><span style=display:flex><span>* In README
</span></span><span style=display:flex><span>* trailing whitespace <span style=color:#f92672>(</span>line 26<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>README:26:
</span></span></code></pre></div><p>This type of error has been discussed quite a bit amongst .NET developers who are transitioning to Git. It has to due with the difference in handling of newlines between Windows and the Mac/*nix world. There are five solutions to this:</p><ol><li>Run the following from inside the repository: (the one I usually use, due to my cross-platform development)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git config core.autocrlf true
</span></span><span style=display:flex><span>git confit core.safecrlf true
</span></span></code></pre></div><p>The <a href=http://help.github.com/dealing-with-lineendings/ target=_blank>Github Help Pages</a> provide an excellent explanation about this. Also read the <a href=http://www.kernel.org/pub/software/scm/git-core/docs/git-config.html target=_blank>direct documentation from git-core</a>. This makes Git convert CRLF at the end of lines in the text files to LF when reading from the filesystem, and convert in reverse when writing to the filesystem. Just be aware also that if you do set this and one of your stored binary files is accidentally marked as text, there is a chance for it to become corrupted.</p><ol start=2><li>Edit the .git/hooks/pre-commit file and comment out the following lines:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>/s$/<span style=color:#f92672>){</span>
</span></span><span style=display:flex><span>  bad_line<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;trailing whitespace&#34;</span>, $_<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>The reason why this is a problem is because there is a space (s in posix regex) just before the end of the line (aka a trailing whitespace). Normally this file wouldn’t fire off unless you made it executable, but on Windows all of the git hooks run because there is no concept of whether they are executable or not, they all are by default. On Mac/*nix Git repositories, you need to “chmod +x” (change to executable) the git hook files before Git will run them.</p><ol start=3><li>When commiting do the following:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git commit --no-verify
</span></span></code></pre></div><p>and the pre-commit hook will be ignored.</p><ol start=4><li>Rename/Move/Delete the .git/hooks/pre-commit file</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mv .git/hooks/pre-commit .git/hooks/pre-commit.stop_working
</span></span></code></pre></div><ol start=5><li>Change the permissions on the .git/hooks/pre-commit file. In this case, I’m clearing the executable bit for all users (owner, group and rest of the world)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod a-x .git/hooks/pre-commit
</span></span></code></pre></div></div><div class=tags><div class=taxosfloating_left><p>Tags</p></div><div class=termsfloating_right><p><a href=/tags/git/>git</a></p></div><div class=clearit></div></div></article></div></main><footer>© Copyright notice | <a href=https://github.com/dataCobra/hugo-vitae target=_blank>Vitae</a> theme for <a href=https://gohugo.io target=_blank>Hugo</a>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-38456568-3","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></footer><script src=/js/dark-mode.js></script></body></html>