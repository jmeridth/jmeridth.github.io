<!doctype html><html lang=en><head><meta charset=utf-8><title>Installing 2 CruiseControl services/web dashboards on 1 server/PC | JM (Jason Meridth)</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.102.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content="jason meridth,meridth,jm,software developer"><meta name=description content="Why? I am currently hosting CruiseControl for an open-source project and I don’t want my personal projects to show up on their web dashboard. I also want a …"><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><link rel=stylesheet type=text/css media=screen href=/css/all.css><link rel=stylesheet href=/css/katex.css crossorigin=anonymous><script defer src=/js/katex.js integrity=sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi crossorigin=anonymous></script>
<script defer src=/js/auto-render.js integrity=sha384-0QrOZ8WIARJUoT5pH7Iuzi7iq0mXUXLF9yj5ZvYxTkMRv1zcaPQiOQ9ksHYbKw7M crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:title" content="Installing 2 CruiseControl services/web dashboards on 1 server/PC"><meta property="og:description" content="Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.jasonmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2007-10-02T21:45:03-05:00"><meta property="article:modified_time" content="2007-10-02T21:45:03-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installing 2 CruiseControl services/web dashboards on 1 server/PC"><meta name=twitter:description content="Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta itemprop=name content="Installing 2 CruiseControl services/web dashboards on 1 server/PC"><meta itemprop=description content="Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta itemprop=datePublished content="2007-10-02T21:45:03-05:00"><meta itemprop=dateModified content="2007-10-02T21:45:03-05:00"><meta itemprop=wordCount content="610"><meta itemprop=keywords content></head><body><header><div id=avatar><a href=http://blog.jasonmeridth.com/><img src=/img/avatar.jpg alt="JM (Jason Meridth)"></a></div><div id=titletext><h2 id=title><a href=http://blog.jasonmeridth.com/>JM (Jason Meridth)</a></h2></div><div id=title-description><p id=subtitle>Learn, Converse, Share</p><div id=social><nav><ul><li><a href=https://github.com/jmeridth><i title=Github class="icons fab fa-github"></i></a></li><li><a href=mailto:jmeridth@gmail.com><i title=Email class="icons fas fa-envelope"></i></a></li><li><a href=https://linkedin.com/in/jmeridth><i title=LinkedIn class="icons fab fa-linkedin"></i></a></li><li><a href=/index.xml><i title=RSS class="icons fas fa-rss"></i></a></li><li><a><i title="Switch Dark Mode" class="dark-mode icons fas fa-moon"></i></a></li></ul></nav></div></div><div id=mainmenu><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>All Posts</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li><li><a href=/categories>Categories</a></li></ul></nav></div></header><main><div class=post><article><div class=post-header><div class=meta><div class=date><span class=day>02</span>
<span class=rest>Oct 2007</span></div></div><div class=matter><h1 class=title>Installing 2 CruiseControl services/web dashboards on 1 server/PC</h1><p class=post-meta><span class=post-meta>&nbsp;<i class="fas fa-clock"></i>&nbsp;3&nbsp;minutes
&nbsp;| &nbsp;
<i class="fas fa-book"></i>&nbsp;610&nbsp;words</span></p></div></div><div class=markdown><p>Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard.  I also want a complete separation.  That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you.  I won&rsquo;t go into this much, but you will learn a little bit about what it does because I&rsquo;m installing my instance manually.</p><h2 id=file-structure>FILE STRUCTURE</h2><p>1. First (easiest way), copy the folder structure created by the msi install and copy it to another folder.<figure><img src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb.png alt=image></figure>copies to<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_1.png alt=image></figure></p><h2 id=service>SERVICE</h2><p>1. Next edit the following files and the specific lines in your new folder structure: &mldr;CruiseControl.NET2/server/ ccnet.exe.config : Change the port to a new port (default was 21234) ccservice.exe.config : Change the port to a new port (default was 21234) (both files have the following schema)<figure><img src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_2.png alt=image></figure>4. Create your new CruiseControl.NET Server service Currently you should have the following in your services manager (Start-> Run: services.msc) (I&rsquo;m a keyboard junkie, I use Start->Run for mostly everything)<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_3.png alt=image></figure>Now if you run the following command in the command line you will create another service for your new CruiseControl.NET Server:<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_6.png alt=image></figure>This is using the service command (<a href=http://msdn2.microsoft.com/en-us/library/ms810435.aspx target=_blank>details here</a>) to install the new service via command line. ***BEWARE:  You have to leave a space after the equals signs or you will get a usage notice (error).  Took me a while to figure that one out. Here is what you should see inside the properties dialog of the new service.<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_5.png alt=image></figure>You should be able to right click the service and choose start.  If you receive an error, be sure to check the ccservice.exe.config file and that the port is different than your other service that is most likely already started.  This is a common error for not starting.<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_4.png alt=image></figure></p><h2 id=web-dashboard>WEB DASHBOARD</h2><p>1. Edit the &mldr;CruiseControl.NET2webdashboarddashboard.config file with the new port number: Change tcp://localhost:21234/CruiseManager.rem to tcp://localhost:&lt;yourPort#>/CruiseManager.rem<figure><img src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_7.png alt=image></figure>2. Create a new virtual directory on your server/PC for your new dashboard:<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_8.png alt=image></figure>Outside of the default settings created by creating a new Virtual Directory, be aware of the following:<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_10.png alt=image></figure>Local path: C:Program FilesCruiseControl.NET2webdashboard Execure Permissions: Scripts only I also use a unique Application Pool for all my Virtual Directories and Sites. I created a CCNet App Pool for this and my other ccnet Virtual Directory.<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_11.png alt=image></figure>Default Document: default.aspx<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_12.png alt=image></figure>Make sure the site is using ASP.NET 2.0 This should be all you need. When you type: <a href=http://localhost/ccnet2 target=_blank>http://localhost/ccnet2</a><figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_13.png alt=image></figure>Just be aware that when you want to use the latest CCTray, you will need to include the port number if you are going to connect via remoting:<figure><img src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_14.png alt=image></figure>Connection for dashboard: <a href=http://localhost/ccnet2 target=_blank>http://localhost/ccnet2</a> Connection for .NET remoting: localhost:43555 I haven&rsquo;t used the last one but for those out there that need to, you can connect to non-CruiseControl.NET build servers (CruiseControl for Java).   I know this is brute force and I&rsquo;m open to all suggestions for a more elegant solution. I&rsquo;m blogging this for memory and for anyone else who might need it.</p><h2 id=comments>Comments</h2><p><strong><a href=#137 title="2007-10-03 12:32:07">Jimmy Bogard</a>:</strong> I recently had to do this also, as we have different service accounts for each environment we deploy to. I had to create a different CC.NET service for each service account, but I kept just the one dashboard to monitor all of them. In that case, I just copied the &ldquo;server&rdquo; folder inside the CruiseControl.NET folder. But by creating separate dashboards, you can also apply separate IIS authentication and NTFS permissions to each set of CCNET servers it monitors, to give some level of security over who can set off builds.</p></div></div></article></div></main><footer>© Copyright notice | <a href=https://github.com/dataCobra/hugo-vitae target=_blank>Vitae</a> theme for <a href=https://gohugo.io target=_blank>Hugo</a>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-38456568-3","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></footer><script src=/js/dark-mode.js></script></body></html>