<!doctype html><html lang=en><head><title>Installing 2 CruiseControl services/web dashboards on 1 server/PC · Learn, Converse, Share
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="JM (Jason Meridth)"><meta name=description content="Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta name=keywords content="jason meridth,meridth,jm,software developer"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="Installing 2 CruiseControl services/web dashboards on 1 server/PC"><meta name=twitter:description content="Why? I am currently hosting CruiseControl for an open-source project and I don’t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta property="og:url" content="http://jmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/"><meta property="og:site_name" content="Learn, Converse, Share"><meta property="og:title" content="Installing 2 CruiseControl services/web dashboards on 1 server/PC"><meta property="og:description" content="Why? I am currently hosting CruiseControl for an open-source project and I don’t want my personal projects to show up on their web dashboard. I also want a complete separation. That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2007-10-02T21:45:03-05:00"><meta property="article:modified_time" content="2007-10-02T21:45:03-05:00"><link rel=canonical href=http://jmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.07092c1350ffd254998dc43a44ae96e617d14af4df4602626878df89189c5e1a.css integrity="sha256-BwksE1D/0lSZjcQ6RK6W5hfRSvTfRgJiaHjfiRicXho=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/css_dark_mode_gist_embed_code.min.5f4f026828cc544c1497785bca628b4ddc8a6c1f154cc2b83c87a13ceaff419a.css integrity="sha256-X08CaCjMVEwUl3hbymKLTdyKbB8VTMK4PIehPOr/QZo=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-dark"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://jmeridth.com/>Learn, Converse, Share
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://jmeridth.com/posts/installing-2-cruisecontrol-services-web-dashboards-on-1-server-pc/>Installing 2 CruiseControl services/web dashboards on 1 server/PC</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2007-10-02T21:45:03-05:00>October 2, 2007
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
3-minute read</span></div></div></header><div class=post-content><p>Why? I am currently hosting CruiseControl for an open-source project and I don&rsquo;t want my personal projects to show up on their web dashboard.  I also want a complete separation.  That means theirs is running on its own port number and they have their own Virtual Directory (ccnet) on the Default website. The given CruiseControl.msi file does an excellent job of setting up the first CruiseControl service and virtual directory for you.  I won&rsquo;t go into this much, but you will learn a little bit about what it does because I&rsquo;m installing my instance manually.</p><h2 id=file-structure>FILE STRUCTURE
<a class=heading-link href=#file-structure><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>1. First (easiest way), copy the folder structure created by the msi install and copy it to another folder. <img alt=image src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb.png> copies to <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_1.png></p><h2 id=service>SERVICE
<a class=heading-link href=#service><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>1. Next edit the following files and the specific lines in your new folder structure: &mldr;CruiseControl.NET2/server/ ccnet.exe.config : Change the port to a new port (default was 21234) ccservice.exe.config : Change the port to a new port (default was 21234) (both files have the following schema) <img alt=image src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_2.png> 4. Create your new CruiseControl.NET Server service Currently you should have the following in your services manager (Start-> Run: services.msc) (I&rsquo;m a keyboard junkie, I use Start->Run for mostly everything) <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_3.png> Now if you run the following command in the command line you will create another service for your new CruiseControl.NET Server: <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_6.png> This is using the service command (<a href=http://msdn2.microsoft.com/en-us/library/ms810435.aspx class=external-link target=_blank rel=noopener>details here</a>) to install the new service via command line. ***BEWARE:  You have to leave a space after the equals signs or you will get a usage notice (error).  Took me a while to figure that one out. Here is what you should see inside the properties dialog of the new service. <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_5.png> You should be able to right click the service and choose start.  If you receive an error, be sure to check the ccservice.exe.config file and that the port is different than your other service that is most likely already started.  This is a common error for not starting. <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_4.png></p><h2 id=web-dashboard>WEB DASHBOARD
<a class=heading-link href=#web-dashboard><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>1. Edit the &mldr;CruiseControl.NET2webdashboarddashboard.config file with the new port number: Change tcp://localhost:21234/CruiseManager.rem to tcp://localhost:&lt;yourPort#>/CruiseManager.rem <img alt=image src=jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_7.png> 2. Create a new virtual directory on your server/PC for your new dashboard: <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_8.png> Outside of the default settings created by creating a new Virtual Directory, be aware of the following: <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_10.png> Local path: C:Program FilesCruiseControl.NET2webdashboard Execure Permissions: Scripts only I also use a unique Application Pool for all my Virtual Directories and Sites. I created a CCNet App Pool for this and my other ccnet Virtual Directory. <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_11.png> Default Document: default.aspx <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_12.png> Make sure the site is using ASP.NET 2.0 This should be all you need. When you type: <a href=http://localhost/ccnet2 class=external-link target=_blank rel=noopener>http://localhost/ccnet2</a> <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_13.png> Just be aware that when you want to use the latest CCTray, you will need to include the port number if you are going to connect via remoting: <img alt=image src=http://lostechies.com/jasonmeridth/files/2011/03/Installing2CruiseControlserviceswebdashb_EB50/image_thumb_14.png> Connection for dashboard: <a href=http://localhost/ccnet2 class=external-link target=_blank rel=noopener>http://localhost/ccnet2</a> Connection for .NET remoting: localhost:43555 I haven&rsquo;t used the last one but for those out there that need to, you can connect to non-CruiseControl.NET build servers (CruiseControl for Java).   I know this is brute force and I&rsquo;m open to all suggestions for a more elegant solution. I&rsquo;m blogging this for memory and for anyone else who might need it.</p><h2 id=comments>Comments
<a class=heading-link href=#comments><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p><strong><a href=#137 title="2007-10-03 12:32:07">Jimmy Bogard</a>:</strong> I recently had to do this also, as we have different service accounts for each environment we deploy to. I had to create a different CC.NET service for each service account, but I kept just the one dashboard to monitor all of them. In that case, I just copied the &ldquo;server&rdquo; folder inside the CruiseControl.NET folder. But by creating separate dashboards, you can also apply separate IIS authentication and NTFS permissions to each set of CCNET servers it monitors, to give some level of security over who can set off builds.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2007 -
2024
JM (Jason Meridth)
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4W46VMK7DQ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4W46VMK7DQ")</script></body></html>