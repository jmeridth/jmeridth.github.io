<!doctype html><html lang=en><head><title>MonoRail · Learn, Converse, Share
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="JM (Jason Meridth)"><meta name=description content="This post was decided upon after watching Hammet&rsquo;s screencast on using attribute-based validation in MonoRail.
*NOTE: I do not agree with embedding validation into the domain model.  I would prefer a service handle this, but I&rsquo;m utilizing the validation that is in the framework.  I&rsquo;ve been skimming some of Bill McCafferty&rsquo;s MonoRail posts and have seen him use items like fValidate, but haven&rsquo;t had an opportunity to use them.  Anyone have any preferences?"><meta name=keywords content="jason meridth,meridth,jm,software developer"><meta name=fediverse:creator content><meta name=twitter:card content="summary"><meta name=twitter:title content="MonoRail"><meta name=twitter:description content="This post was decided upon after watching Hammet’s screencast on using attribute-based validation in MonoRail.
*NOTE: I do not agree with embedding validation into the domain model. I would prefer a service handle this, but I’m utilizing the validation that is in the framework. I’ve been skimming some of Bill McCafferty’s MonoRail posts and have seen him use items like fValidate, but haven’t had an opportunity to use them. Anyone have any preferences?"><meta property="og:url" content="http://jmeridth.com/posts/monorail-4-validation/"><meta property="og:site_name" content="Learn, Converse, Share"><meta property="og:title" content="MonoRail"><meta property="og:description" content="This post was decided upon after watching Hammet’s screencast on using attribute-based validation in MonoRail.
*NOTE: I do not agree with embedding validation into the domain model. I would prefer a service handle this, but I’m utilizing the validation that is in the framework. I’ve been skimming some of Bill McCafferty’s MonoRail posts and have seen him use items like fValidate, but haven’t had an opportunity to use them. Anyone have any preferences?"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2007-09-26T15:08:25-05:00"><meta property="article:modified_time" content="2007-09-26T15:08:25-05:00"><link rel=canonical href=http://jmeridth.com/posts/monorail-4-validation/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.07092c1350ffd254998dc43a44ae96e617d14af4df4602626878df89189c5e1a.css integrity="sha256-BwksE1D/0lSZjcQ6RK6W5hfRSvTfRgJiaHjfiRicXho=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/css_dark_mode_gist_embed_code.min.5f4f026828cc544c1497785bca628b4ddc8a6c1f154cc2b83c87a13ceaff419a.css integrity="sha256-X08CaCjMVEwUl3hbymKLTdyKbB8VTMK4PIehPOr/QZo=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-dark"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://jmeridth.com/>Learn, Converse, Share
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/tags/>Tags</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=https://github.com/jmeridth/presentations/blob/main/README.md>Talks</a></li><li class=navigation-item><a class=navigation-link href=/contact/>Contact Me</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://jmeridth.com/posts/monorail-4-validation/>MonoRail</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2007-09-26T15:08:25-05:00>September 26, 2007
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
4-minute read</span></div></div></header><div class=post-content><p>This post was decided upon after watching <a href=http://hammett.castleproject.org/ class=external-link target=_blank rel=noopener>Hammet</a>&rsquo;s <a href=http://hammett.castleproject.org/wp-content/uploads/2007/01/mr%20formvalidation.html class=external-link target=_blank rel=noopener>screencast</a> on using attribute-based validation in MonoRail.</p><p>*<strong>NOTE</strong>: I do not agree with embedding validation into the domain model.  I would prefer a service handle this, but I&rsquo;m utilizing the validation that is in the framework.  I&rsquo;ve been skimming some of Bill McCafferty&rsquo;s MonoRail posts and have seen him use items like fValidate, but haven&rsquo;t had an opportunity to use them.  Anyone have any preferences?</p><p>Be aware that I&rsquo;m using the latest trunk code: <a href=http://builds.castleproject.org/cruise/index.castle class=external-link target=_blank rel=noopener>Get it here from the Castle MonoRail build server</a>.</p><p>First, you need a reference to Castle.Components.Validator in your project:
<img alt=image src=jasonmeridth/files/2011/03MonoRail4Validation_11854/image_thumb.png></p><h2 id=the-model>THE MODEL
<a class=heading-link href=#the-model><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Next, you need to add the necessary attributes to the domain entity&rsquo;s properties:</p><pre><code>   1: using Castle.Components.Validator;


   2:


   3: namespace JasonMeridth.Models


   4: {


   5:     public class Contact


   6:     {


   7:         private string name;


   8:         private string email;


   9:         private string message;


  10:


  11:         [ValidateNonEmpty(&quot;Name is a required field&quot;)
</code></pre><h2 id=comments>Comments
<a class=heading-link href=#comments><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p><strong><a href=#127 title="2007-09-26 17:08:12">cramsay</a>:</strong> Hi Jason, Did the error you were getting in IE7 match the one in that blog post? AFAIK the MR validation uses this library: <a href=http://www.tetlaw.id.au/view/javascript/really-easy-field-validation class=external-link target=_blank rel=noopener>http://www.tetlaw.id.au/view/javascript/really-easy-field-validation</a> That in turn uses prototype, which should be able to handle inserting stuff in IE7 with ease. I assume the error was happening when the validation messages were trying to appear?</p><p><strong><a href=#128 title="2007-09-26 19:38:08">Jason Meridth</a>:</strong> I did comment on Hammett&rsquo;s post but can&rsquo;t find the comment. Did he update the blog entry? Where is it exactly? Nice post on validation. I will definitely try it out. Yes, the error was appearing when the messages were trying to appear.</p><p><strong><a href=#129 title="2007-09-26 20:21:19">Joe Ocampo</a>:</strong> Nice post&mldr; Don&rsquo;t know how crazy I am about decorating my Domain object with validation constructs BUT I am in simplification rehab for this. (mumbling to self) must simplify, it will be ok. must simplify, its ok&mldr;.. :-)</p><p><strong><a href=#130 title="2007-09-26 22:07:00">Sean Chambers</a>:</strong> Jason, Very detailed post! I agree with Joe that I cringe at the idea of decorating domain objects with validation attributes. Although I have done quite a bit of research and thought about it alot without coming up with a better scenario without creating more headaches as a result. At one point in a recent project I had a generic ValidationBase controller that the controller derived from and I could then call a Validate method returning errors if not passed. This was for a Controller Wizard, hence the generics. I have been thinking about this a lot recently so perhaps I can come up with an alternative. Great post, keep it up!</p><p><strong><a href=#131 title="2007-09-27 00:03:59">Jason Meridth</a>:</strong> I completely agree with you and Joe, hence my second opening paragraph. I love the idea of a ValidationBase controller. I&rsquo;m check out Colin&rsquo;s javascript validation stuff and I look forward to posts about your base validation mechanism. Excellent!</p><p><strong><a href=#132 title="2007-09-27 00:51:41">joeyDotNet</a>:</strong> Well I&rsquo;d agree mostly about not wanting to put a bunch of validation attributes on domain objects. BUT! Like Joe, I too have been applying the &ldquo;replace unnecessary complexity wth simplification&rdquo; refactoring to myself for a while now. (Hmm, refactoring <em>yourself</em>, smells like a blog post&mldr;) :) And it&rsquo;s all the Castle project&rsquo;s fault when I saw the simplicity of how quickly you could get a decently designed web app up and running using MonoRail + ActiveRecord. Now that I&rsquo;m digging into RoR, it&rsquo;s like that whole Castle MR + AR experience all over again, but this time it&rsquo;s like X 10. There really is just something beautiful about having lines like this in your domain object: <code>validates_presence_of :title validates_numericality_of :quantity</code> especially when you can constrain them like this: <code>validates_presence_of :title :on => :create</code> I dunno. It&rsquo;s definitely starting to grow on me. And I have a feeling that an Active Record implementation in a dynamic language is completely different than in a static language when it comes corrupting your design. But, I&rsquo;m still learning&mldr; (Sorry this kinda turned into a AR comment, but is kinda along the same lines&mldr;)</p><p><strong><a href=#133 title="2008-03-05 12:04:29">deman</a>:</strong> Jason, I&rsquo;m waiting for your authentication post. Or did I miss it somewhere? Thank you.</p><p><strong><a href=#134 title="2008-10-23 15:09:54">Isidro</a>:</strong> I&rsquo;m having troubles with regex validations. If I put any kind of regexes in the validators the validation stops working! Is this a know issue?</p><p><strong><a href=#135 title="2008-10-28 12:11:28">Jason Meridth</a>:</strong> @ isidro Whenever that happens to me, it isn&rsquo;t the Monorail Validator, it&rsquo;s my regex. I use Roy Osherove&rsquo;s Regulator tool to test my regex queries and that usually straightens me out. Hope this helps.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2007 -
2024
JM (Jason Meridth)
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4W46VMK7DQ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-4W46VMK7DQ")</script></body></html>